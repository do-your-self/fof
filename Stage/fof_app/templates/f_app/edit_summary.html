{% extends "main.html" %}

{% block css %}
<style>
    .page-header {
        margin-top: 20px;
    }
    input:focus {
        border-color: #0b97c4!important;
    }
</style>
{% endblock %}

{% block content %}

    <div class="row">
        <div class="col-md-12 col-xs-12">
            <div class="x_panel">
                <div class="x_title">
                    {% if current_user.is_staff %}
                    <h2>{{ fof.sec_name}}  修改基本信息</h2>
                    {% else %}
                    <h2>{{ fof.alias }}  修改基本信息</h2>
                    {% endif %}
                    <div class="clearfix"></div>
                </div>
                <div class="x_content">
                    <form class="form-horizontal form-label-left" method="POST" action="{{ url_for('f_app.edit_summary',wind_code=fof.wind_code)}}">

                        <h2 class="page-header">基金信息</h2>
                        <div class="row">
                            <div class="form-group col-md-3">
                                <label class="control-label col-md-4 col-sm-4 col-xs-12">基金代码</label>
                                <div class="col-md-8 col-sm-8 col-xs-12">
                                    <input type="text" name="wind_code" class="form-control input-md" value="{{ fof.wind_code }}" readonly>
                                </div>
                            </div>
                            <div class="form-group col-md-3">
                                <label class="control-label col-md-4 col-sm-4 col-xs-12">基金名称</label>
                                <div class="col-md-8 col-sm-8 col-xs-12">
                                    <input type="text" name="sec_name" class="form-control input-md" value="{{ fof.sec_name }}">
                                </div>
                            </div>
                            <div class="form-group col-md-3">
                                <label class="control-label col-md-4 col-sm-4 col-xs-12">基金别名</label>
                                <div class="col-md-8 col-sm-8 col-xs-12">
                                    <input type="text" name="alias" class="form-control input-md"  value="{{ fof.alias }}">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-md-3">
                                <label class="control-label col-md-4 col-sm-4 col-xs-12">基金经理</label>
                                <div class="col-md-8 col-sm-8 col-xs-12">
                                    <input type="text" name="fund_mgrcomp" class="form-control input-md" value="{{ fof.fund_mgrcomp }}">
                                </div>
                            </div>
                            <div class="form-group col-md-3">
                                <label class="control-label col-md-4 col-sm-4 col-xs-12">基金管理人员</label>
                                <div class="col-md-8 col-sm-8 col-xs-12">
                                    <input type="text" name="fund_fundmanager" class="form-control input-md" value="{{ fof.fund_fundmanager }}">
                                </div>
                            </div>
                            <div class="form-group col-md-3">
                                <label class="control-label col-md-4 col-sm-4 col-xs-12">基金维护方式</label>
                                <div class="col-md-8 col-sm-8 col-xs-12">
                                    <select class="form-control" name="nav_maintain_mode" id="nav_maintain_mode">
                                        <option value="0">自动计算</option>
                                        <option value="1">手动维护</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-md-3">
                                <label class="control-label col-md-4 col-sm-4 col-xs-12">存在年限</label>
                                <div class="col-md-8 col-sm-8 col-xs-12">
                                    <input type="number" name="fund_existingyear" class="form-control input-md" value="{{ fof.fund_existingyear }}">
                                    
                                </div>
                            </div>
                            <div class="form-group col-md-3">
                                <label class="control-label col-md-4 col-sm-4 col-xs-12">存续年限</label>
                                <div class="col-md-8 col-sm-8 col-xs-12">
                                    <input type="number" name="fund_ptmyear" class="form-control input-md" value="{{ fof.fund_ptmyear }}">
                                </div>
                            </div>
                            <div class="form-group col-md-3">
                                <label class="control-label col-md-4 col-sm-4 col-xs-12">成立时间</label>
                                <div class="col-md-8 col-sm-8 col-xs-12">
                                    <input name="fund_setupdate" type="date" class="form-control input-md" value="{{ fof.fund_setupdate }}"/>
                                </div>
                            </div>
                            <div class="form-group col-md-3">
                                <label class="control-label col-md-4 col-sm-4 col-xs-12">终止时间</label>
                                <div class="col-md-8 col-sm-8 col-xs-12">
                                    <input name="fund_maturitydate" type="date" class="form-control input-md" value="{{ fof.fund_maturitydate }}"/>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-md-3">
                                <label class="control-label col-md-4 col-sm-4 col-xs-12">策略类型</label>
                                <div class="col-md-8 col-sm-8 col-xs-12">
                                    <select class="form-control" name="strategy_type" id="strategy_type">
                                        <option value="股票多头策略">股票多头策略</option>
                                        <option value="股票多空策略">股票多空策略</option>
                                        <option value="事件驱动策略">事件驱动策略</option>
                                        <option value="其他股票策略">其他股票策略</option>
                                        <option value="阿尔法策略">阿尔法策略</option>
                                        <option value="债券策略">债券策略</option>
                                        <option value="货币市场策略">货币市场策略</option>
                                        <option value="管理期货策略">管理期货策略</option>
                                        <option value="套利策略">套利策略</option>
                                        <option value="宏观策略">宏观策略</option>
                                        <option value="组合基金策略">组合基金策略</option>
                                        <option value="现金管理">现金管理</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group col-md-3">
                                <label class="control-label col-md-4 col-sm-4 col-xs-12">基金评级</label>
                                <div class="col-md-8 col-sm-8 col-xs-12">
                                    <select class="form-control" name="rank" id="rank">
                                        <option value="0">未评级</option>
                                        <option value="1">不关注</option>
                                        <option value="2">观察</option>
                                        <option value="3">备选</option>
                                        <option value="4">核心池</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-2 col-md-offset-1" style="margin-top:5px;">
                                <label>
                                    <input type="checkbox" class="flat" checked="{{ fof.fund_status }}" name="fund_status"> 基金状态
                                </label>
                            </div>
                        </div>
                        <div class="panel panel-default" style="border:0px;">
                            <div class="panel-heading" role="tab" id="headingTwo" style="background: #fff;">
                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                    更多>>
                                </a>
                            </div>
                            <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                                <div class="panel-body">
                                    <h2 class="page-header">规模信息</h2>
                                    <div class="row">
                                        <div class="form-group col-md-3">
                                            <label class="control-label col-md-4 col-sm-4 col-xs-12">总规模</label>
                                            <div class="col-md-8 col-sm-8 col-xs-12">
                                                <input type="number" name="scale_tot" class="form-control input-md" value="{{ fof.scale_tot }}">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="form-group col-md-3">
                                            <label class="control-label col-md-4 col-sm-4 col-xs-12">A类份额规模</label>
                                            <div class="col-md-8 col-sm-8 col-xs-12">
                                                <input type="number" name="scale_a" class="form-control input-md" value="{{ fof.scale_a }}">
                                            </div>
                                        </div>
                                        <div class="form-group col-md-3">
                                            <label class="control-label col-md-4 col-sm-4 col-xs-12">B类份额规模</label>
                                            <div class="col-md-8 col-sm-8 col-xs-12">
                                                <input type="number" name="scale_b" class="form-control input-md" value="{{ fof.scale_b }}">
                                            </div>
                                        </div>
                                        <div class="form-group col-md-3">
                                            <label class="control-label col-md-4 col-sm-4 col-xs-12">优先级资产规模</label>
                                            <div class="col-md-8 col-sm-8 col-xs-12">
                                                <input type="number" name="priority_asset" class="form-control input-md" value="{{ fof.priority_asset }}">
                                            </div>
                                        </div>
                                        <div class="form-group col-md-3">
                                            <label class="control-label col-md-4 col-sm-4 col-xs-12">劣后级资产规模</label>
                                            <div class="col-md-8 col-sm-8 col-xs-12">
                                                <input type="number" name="inferior_asset" class="form-control input-md" value="{{ fof.inferior_asset }}">
                                            </div>
                                        </div>
                                    </div>
                                    <h2 class="page-header">净值信息</h2>
                                    <div class="row">
                                        <div class="form-group col-md-3">
                                            <label class="control-label col-md-4 col-sm-4 col-xs-12">最新净值</label>
                                            <div class="col-md-8 col-sm-8 col-xs-12">
                                                <input type="number" name="nav_acc_latest" class="form-control input-md" value="{{ fof.nav_acc_latest }}">
                                            </div>
                                        </div>
                                        <div class="form-group col-md-3">
                                            <label class="control-label col-md-4 col-sm-4 col-xs-12">最新净值日期</label>
                                            <div class="col-md-8 col-sm-8 col-xs-12">
                                                <input type="date" name="nav_date_latest" class="form-control input-md" value="{{ fof.nav_date_latest }}">
                                            </div>
                                        </div>
                                    </div>
                                    <h2 class="page-header">收益率信息</h2>
                                    <div class="row">
                                        <div class="form-group col-md-3">
                                            <label class="control-label col-md-4 col-sm-4 col-xs-12" style="padding-left:0;">优先级年化收益率</label>
                                            <div class="col-md-8 col-sm-8 col-xs-12">
                                                <input type="number" name="priority_interest_rate" class="form-control input-md" value="{{ fof.priority_interest_rate }}">
                                            </div>
                                        </div>
                                        <div class="form-group col-md-3">
                                            <label class="control-label col-md-4 col-sm-4 col-xs-12">年化收益率</label>
                                            <div class="col-md-8 col-sm-8 col-xs-12">
                                                <input type="number" name="annual_return" class="form-control input-md" value="{{ fof.annual_return  }}">
                                            </div>
                                        </div>
                                    </div>
                                    <h2 class="page-header">占比信息</h2>
                                    <div class="row">
                                        <div class="form-group col-md-3">
                                            <label class="control-label col-md-4 col-sm-4 col-xs-12">最大回撤比</label>
                                            <div class="col-md-8 col-sm-8 col-xs-12">
                                                <input type="number" name="nav_acc_mdd" class="form-control input-md" value="{{ fof.nav_acc_mdd }}">
                                            </div>
                                        </div>
                                        <div class="form-group col-md-3">
                                            <label class="control-label col-md-4 col-sm-4 col-xs-12">夏普比</label>
                                            <div class="col-md-8 col-sm-8 col-xs-12">
                                                <input type="number" name="sharpe" class="form-control input-md" value="{{ fof.sharpe }}">
                                            </div>
                                        </div>
                                    </div>
                                    <h2 class="page-header">负责人信息</h2>
                                    <div class="row">
                                        <div class="form-group col-md-3">
                                            <label class="control-label col-md-4 col-sm-4 col-xs-12">投资管理人</label>
                                            <div class="col-md-8 col-sm-8 col-xs-12">
                                                <input type="text" name="fh_inv_manager" class="form-control input-md" value="{{ fof.fh_inv_manager }}">
                                            </div>
                                        </div>
                                        <div class="form-group col-md-3">
                                            <label class="control-label col-md-4 col-sm-4 col-xs-12">产品负责人</label>
                                            <div class="col-md-8 col-sm-8 col-xs-12">
                                                <input type="text" name="fh_prod_manager" class="form-control input-md" value="{{ fof.fh_prod_manager }}">
                                            </div>
                                        </div>
                                        <div class="form-group col-md-3">
                                            <label class="control-label col-md-4 col-sm-4 col-xs-12">渠道负责人</label>
                                            <div class="col-md-8 col-sm-8 col-xs-12">
                                                <input type="text" name="fh_channel_manager" class="form-control input-md" value="{{ fof.fh_channel_manager }}"> 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>




                        <div class="form-group col-md-12">
                            <div class="col-md-1 col-sm-9 col-xs-12 col-md-offset-5">
                                <input type="submit" class="btn btn-primary" value="更新">
                            </div>
                             <div class="col-md-3 col-sm-9 col-xs-12 ">
                                 <a href="{{ url_for('f_app.details',wind_code=fof.wind_code) }}">
                                     <input type="submit" class="btn btn-success" value="取消编辑">
                                 </a>
                            </div>
                        </div>
                    </form>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
        <div class="col-md-3 col-xs-12">

        </div>
    </div>

{% endblock %}


{% block script %}
    <script>
        function selected(id,option){
            var options = $(id).find("option"); //获取select下拉框的所有值
            for (var i = 1; i < options.length; i++) {
                if ($(options[i]).val() == option) {
                    $(options[i]).attr("selected", "selected");
                }
            }
        }
        var type;
        '{{fof.nav_maintain_mode}}'=='False'?type=0:type=1;
        selected("#strategy_type",'{{fof.strategy_type}}');
        selected("#rank",'{{fof.rank}}');
        selected("#nav_maintain_mode",type);


    </script>
{% endblock %}